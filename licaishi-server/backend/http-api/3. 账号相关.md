title:	理财师服务端 HTTP接口
---------------------

- 接口统一采用RESTful风格的接口

### app手机端使用时


HTTP头里面带有以下信息:

参数 | 数据类型 | 必填|参数类型|描述
---|--- |--- | ---| ---
Authorization | string | 必填| Header| 构造形式必须 Bearer xxxxxxxxxxxxxxxxxxxxxx


# 只有新增或者更新的接口需要走这边

* 注册
* 登录
* 修改密码
* 上传头像


# 产品类

## 1. 账户登录

```
post /srv/v1/login
```
请求参数:

参数 | 数据类型 | 必填|参数类型|描述
---|--- |--- | ---| ---
platid| string | 必填| body|1代表音响的Android版本，2代表音响的IOS版本
vercode | int | 必填| body|当前app的版本code
channel | string | 必填| body|渠道id,sandroid的有多个渠道，IOS的指定为0ASE


响应参数:


请求例子

```
post /srv/v1/login
{
   "platid":"2015100011",
	"vercode":1,  
	"channel":"1CWR",
	"username":"",
	"password":"",
	"phonenumber":"",
	"authorizationcode":""
}

response:
{
    "access_token": "",
    "access_token_expire": "成功",
    "error": "", //0.表示成功；7.用户名不存在;8.密码错误;11.授权码错误，12. 参数错误；15. 密码未设置；30：多端登录账户被踢出；50.服务器异常
    "refresh_token":"",
    "refresh_token_expire":""
    "uid":""

```

## 2. 账户注册

```
post /srv/v1/account
```
请求参数:

参数 | 数据类型 | 必填|参数类型|描述
---|--- |--- | ---| ---
platid| string | 必填| body|1代表音响的Android版本，2代表音响的IOS版本
vercode | int | 必填| body|当前app的版本code
channel | string | 必填| body|渠道id,sandroid的有多个渠道，IOS的指定为0ASE


响应参数:


请求例子

```
post /srv/v1/login
{
   "platid":"2015100011",
	"vercode":1,  
	"channel":"1CWR",
	"authorizationcode":"",
	"data":{},
	"mailaddress":"",
	"password":""，
	"phonenumber":"",
	"registersource":"",
	"username":"",
	"verificationcode":""
}

response:
{
    "error": "",
    "uid": ""
```

## 3. 修改密码

```
post /srv/v1/password
```
请求参数:

参数 | 数据类型 | 必填|参数类型|描述
---|--- |--- | ---| ---
platid| string | 必填| body|1代表音响的Android版本，2代表音响的IOS版本
vercode | int | 必填| body|当前app的版本code
channel | string | 必填| body|渠道id,sandroid的有多个渠道，IOS的指定为0ASE


响应参数:


请求例子

```
post /srv/v1/password
{
   "platid":"2015100011",
	"vercode":1,  
	"channel":"1CWR",
	"authorizationcode":"",
	"newpassword":"",
	"oldpassword":""
}

response:
{
    "error": "", //0.表示修改成功；8.密码错误；5.token失效；30.多端登录账户被踢出; 50.服务器异常
    "token_status": "" //0.表示token正常；1.表示token需要刷新；2.表示token失效；
    
```

## 4. 上传头像

```
post /srv/v1/pic/upload
```
请求参数:

参数 | 数据类型 | 必填|参数类型|描述
---|--- |--- | ---| ---
platid| string | 必填| body|1代表音响的Android版本，2代表音响的IOS版本
vercode | int | 必填| body|当前app的版本code
channel | string | 必填| body|渠道id,sandroid的有多个渠道，IOS的指定为0ASE


响应参数:


请求例子

```
post /srv/v1/pic/upload
{
   "platid":"2015100011",
	"vercode":1,  
	"channel":"1CWR",
	"access_token":"",
	"file":Object,  //非空
	"type":"" //1：代表上传的是头像
}

response:
{
    "error": "", 0：上传成功 18：图片格式错误 19:图片为空 50：服务器异常
    "token_status": "" //如果上传成功，返回图片url
    
```



